!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){(()=>{const e={projects:[]},t={body:document.querySelector("body"),projects:[],todos:[]},o=()=>{t.projects.push(document.createElement("section")),t.todos.push([])},r=e=>{t.projects[e].setAttribute("id","0"+(e+1)),t.projects[e].setAttribute("class","project"),t.contentDiv.appendChild(t.projects[e])},n=()=>t.projects[t.projects.length-1],d=()=>{t.projectForm=document.createElement("section"),t.projectForm.setAttribute("id","project-form"),t.projectForm.appendChild((t.addProjectInput=document.createElement("input"),t.addProjectInput.setAttribute("type","text"),t.addProjectInput.setAttribute("id","add-project-input"),t.addProjectInput)),t.projectForm.appendChild((t.addProjectButton=document.createElement("button"),t.addProjectButton.appendChild(document.createTextNode("New Project")),t.addProjectButton.setAttribute("id","add-project-button"),t.addProjectButton)),t.contentDiv.appendChild(t.projectForm)},c=(e,o)=>{e.appendChild((e=>(t.projectName=document.createElement("h3"),t.projectName.appendChild(document.createTextNode(e)),t.projectName.setAttribute("id","project-"+t.projects.length),t.projectName))(o)),e.appendChild((()=>{const e=document.createElement("button");return e.appendChild(document.createTextNode("New Todo")),e.setAttribute("class","add-todo-btn"),e})()),e.appendChild((()=>{const e=document.createElement("button");return e.setAttribute("id",""+t.projects.length),e.appendChild(document.createTextNode("Delete")),e.setAttribute("class","remove-project-btns"),e})())},a=()=>{t.projects.forEach(e=>{e.remove()}),t.projects=[]},p=d=>{var p,s;d.preventDefault,(""!==t.addProjectInput.value||(t.addProjectInput.placeholder="Project Name shouldn't be empty",t.addProjectInput.style.borderColor="red",0))&&(e.projects.push({}),p=e.projects.length-1,s=t.addProjectInput.value,e.projects[p].name=s,e.projects[p].todos=[],localStorage.setItem("projects",JSON.stringify(e.projects)),a(),JSON.parse(localStorage.getItem("projects")).forEach((e,t)=>{o(),r(t),c(n(),e.name)}),t.addProjectInput.value="")},s=(e,o,r)=>{r.forEach(r=>{const n=document.createElement("section"),d=t.todos[parseInt(e.id,10)-1];n.setAttribute("class","todo"),n.setAttribute("id",`${e.id}-${d.length+1}`),N(o,r,n),d.push(n),e.appendChild(n)})},i=(e,t)=>{e.forEach((e,d)=>{o(),r(d),c(n(),e.name),null===e.todos&&e.todos===[]||s(n(),t,e.todos)})},l=t=>{if(t.target&&"remove-project-btns"===t.target.className){t.preventDefault();const o=["Title","Description","Date","priority","Note","Done"];e.projects.splice(parseInt(t.target.id,10)-1,1),localStorage.setItem("projects",JSON.stringify(e.projects)),a(),i(JSON.parse(localStorage.getItem("projects")),o)}},u=(e,t,o)=>{const r=document.createElement("label");r.appendChild(document.createTextNode(t));const n=document.createElement("input");n.setAttribute("type",o),"date"===o&&n.setAttribute("value",(()=>{const e=new Date;return`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`})()),e.appendChild(r),e.appendChild(n),e[t]=n},m=e=>{u(e,"Title","text"),u(e,"Description","text"),u(e,"Date","date"),(e=>{const t=document.createElement("label");t.appendChild(document.createTextNode("Priority:"));const o=document.createElement("select"),r=document.createElement("option");r.appendChild(document.createTextNode("High")),r.setAttribute("value","high");const n=document.createElement("option");n.appendChild(document.createTextNode("Medium")),n.setAttribute("value","medium");const d=document.createElement("option");d.appendChild(document.createTextNode("Low")),d.setAttribute("value","low"),o.appendChild(r),o.appendChild(n),o.appendChild(d),e.appendChild(t),e.appendChild(o),e.priority=o})(e),u(e,"Note","text"),u(e,"Done","checkbox"),(e=>{const t=document.createElement("button");t.setAttribute("class","add-todo"),t.appendChild(document.createTextNode("Submit")),e.appendChild(t)})(e)},j=e=>{if(e.target&&"add-todo-btn"===e.target.className&&"todo-form"!==e.target.parentNode.lastChild.className){e.preventDefault();const o=document.createElement("section");o.setAttribute("class","todo-form"),e.target.parentNode.appendChild((m(t=o),t))}var t},h=(e,t,o)=>{o.forEach((o,r)=>{const n=o.toLowerCase();e[n]="Done"!==o?t[o].value:t[o].checked})},g=(e,t,o)=>{const r=document.createElement("button");r.appendChild(document.createTextNode(e)),r.setAttribute("class",t),o.appendChild(r)},N=(e,t,o)=>{((e,t,o)=>{e.forEach((e,r)=>{const n=document.createElement("p");n.setAttribute("class",e),n.appendChild(document.createTextNode(t[e.toLowerCase()])),o.appendChild(n)})})(e,t,o),g("Edit","edit-todo",o),g("Delete","delete-todo",o)},f=e=>{let o=0;for(;o<e.childNodes.length;)"todo"===e.childNodes[o].className?e.childNodes[o].remove():o+=1;t.todos[parseInt(e.id,10)-1]=[]},b=t=>{if(t.target&&"add-todo"===t.target.className){t.preventDefault();const o=["Title","Description","Date","priority","Note","Done"];if(((e,t)=>{let o=0;return t.forEach(t=>{""===e[t].value&&(e[t].style.borderColor="red",e[t].placeholder="Please Fill out this field",o+=1)}),0===o})(t.target.parentNode,o)){const r=t.target.parentNode.parentNode,n=t.target.parentNode;let d;if(n.id){v(n);const t=n.id.match(/\d+$/)[0];d=e.projects[parseInt(r.id,10)-1].todos[parseInt(t,10)-1],h(d,n,o),localStorage.setItem("projects",JSON.stringify(e.projects));((e,t,o,r)=>{N(t,o,r),e.appendChild(r)})(r,o,JSON.parse(localStorage.getItem("projects"))[parseInt(r.id,10)-1].todos[parseInt(t,10)-1],n)}else{e.projects[parseInt(r.id,10)-1].todos.push({});const t=e.projects[parseInt(r.id,10)-1].todos.length;d=e.projects[parseInt(r.id,10)-1].todos[t-1],h(d,n,o),localStorage.setItem("projects",JSON.stringify(e.projects));const c=JSON.parse(localStorage.getItem("projects"))[parseInt(r.id,10)-1].todos;f(r),s(r,o,c),n.remove()}}}},v=e=>{e.textContent=""},C=e=>{if(e.target&&"edit-todo"===e.target.className){e.preventDefault();e.target.parentNode.parentNode;const t=e.target.parentNode;v(t),m(t)}},E=t=>{if(t.target&&"delete-todo"===t.target.className){t.preventDefault();const o=["Title","Description","Date","priority","Note","Done"],r=t.target.parentNode.parentNode,n=t.target.parentNode;f(r);const d=n.id.match(/\d+$/)[0];e.projects[parseInt(r.id,10)-1].todos.splice(parseInt(d,10)-1,1),localStorage.setItem("projects",JSON.stringify(e.projects));const c=JSON.parse(localStorage.getItem("projects"))[parseInt(r.id,10)-1].todos;s(r,o,c)}},I=t=>{t.preventDefault();const o=["Title","Description","Date","priority","Note","Done"],r=JSON.parse(localStorage.getItem("projects"));null!==r&&(e.projects=JSON.parse(localStorage.getItem("projects")),i(r,o))};return{runApp:()=>{t.contentDiv=document.createElement("div"),t.contentDiv.setAttribute("id","content"),t.body.appendChild(t.contentDiv),d(),document.addEventListener("DOMContentLoaded",I),t.addProjectButton.addEventListener("click",p),document.addEventListener("click",l),document.addEventListener("click",j),document.addEventListener("click",b),document.addEventListener("click",C),document.addEventListener("click",E)}}})().runApp()}]);